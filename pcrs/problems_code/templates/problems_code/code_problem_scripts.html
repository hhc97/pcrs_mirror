{% load staticfiles %}

<script src="{% static "codemirror-4.1/lib/codemirror_accessible.js" %}"></script>

<script src="{% static "codemirror-4.1/mode/python/python.js" %}"></script>
<script src="{% static "codemirror-4.1/mode/sql/sql.js" %}"></script>
<script src="{% static "codemirror-4.1/mode/ra/ra.js" %}"></script>

{% include "problems_code/visualizer_python_includes.html" %}

{#  add other langauges here  #}

{# When another language is added modify code_mirror.js #}
<script src="{% static "code_mirror.js" %}"></script>

<script type="text/javascript">
    var cmh_list = {};

    var language = "{{ problem.language }}";
    var problem_id = "{{ problem.pk }}";
    var visualizer = null;

    var happyFace = $('<img id="dynamic">').attr({
        src: '{% static "problems_code/img/yellow-happy-face.png" %}',
        alt: 'Smiley Face',
        height: "36",
        width: "36"
    });
    var sadFace = $('<img id="dynamic">').attr({
        src: '{% static "problems_code/img/red-sad-face.jpg" %}',
        alt: 'Sad Face',
        height: "36",
        width: "36"
    });
    var dURL = "{% static "problems_code/img/download-icon.png" %}";

    //Delay to allow the window to change
    function delay_refresh_cm(key) {
        setTimeout(function () {
                    refresh_cm(key)
                }, 1
        );
    }
    //Refresh the code mirrors to fit the newly sized window
    function refresh_cm(key) {
        cmh_list[key].refresh();
    }
</script>

<script src="{% static "problems_code/js/problem.js" %}"
        type="text/javascript"></script>
<script src="{% static "problems_code/js/visualizer.js" %}"
        type="text/javascript"></script>